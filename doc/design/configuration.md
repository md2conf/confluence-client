# Configuration Properties

| Class                                    | FileName                                    | Comment                                                                                                         |
|:-----------------------------------------|:--------------------------------------------|:----------------------------------------------------------------------------------------------------------------|
| ConfluenceClientConfigurationProperties  | ./.md2conf/confluence-client.yaml           | Mandatory, contains Confluence connection URL                                                                   |
| MarkdownConverterConfigurationProperties | ./.md2conf/md2conf-converter.yaml           | Optional, if not exists, will use default values. Saved to 'out/md2conf-converter-generated.yaml' for reference |
| ConfluenceContentModel                   | ./.md2conf/content-model.yaml               | If exists, `md2conf-converter` will not be used                                                                 |
| ConfluenceContentModel                   | ./.md2conf/out/content-model-generated.yaml | Generated by `md2conf-converter` at runtime                                                                     |

# Actors

## Initializer

### Case if `.md2conf` directory doesn't exist

- Create `.md2conf` directory with README.md.
- Build ConfluenceClientConfigurationProperties from defaults and CLI
  parameters and saves to `out/confluence-client-generated.yaml`
- Build MarkdownConverterConfigurationProperties from defaults and CLI
  parameters and saves to `out/md2conf-converter-generated.yaml`

### Case if `.md2conf` directory exist

- Build ConfluenceClientConfigurationProperties in next order: defaults,
  load from config file, from CLI, saves to
  `out/confluence-client-generated.yaml`.
- Build MarkdownConverterConfigurationProperties in next order:
  defaults, load from config file, from CLI, saves to
  `out/md2conf-converter-generated.yaml`.

## Converter

If `./.md2conf/content-model.yaml` exists, load it, validate and save to
`./.md2conf/out/content-model-generated.yaml`

## Publisher

Load `out/confluence-client-generated.yaml` and
`./.md2conf/out/content-model-generated.yaml` and invoke Confluence
Client to publish content.
